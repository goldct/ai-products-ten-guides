# 快速上手指南 - 10人AI团队

> 30分钟从入门到实践

---

## 第一步：理解核心概念

### 什么是多智能体协作？

**传统方式**：一个人用AI，开多个会话
```
会话1: ChatGPT - 写代码
会话2: ChatGPT - 写文案
会话3: ChatGPT - 做方案
→ 问题：重复劳动，无协作
```

**多智能体方式**：多个专业AI，各司其职
```
乾（总控）：负责任务分发和方向把控
坤（产品）：负责产品方案
临（技术）：负责技术实现
泰（验收）：负责质量把控
否（宣发）：负责运营推广
→ 结果：专业分工，高效协作
```

---

## 第二步：准备环境

### 1. 安装 Moltbot Gateway

```bash
# 克隆仓库
git clone https://github.com/moltbot/moltbot.git
cd moltbot

# 安装依赖
npm install

# 配置
cp moltbot.json.example moltbot.json
```

### 2. 配置第一个网关

编辑 `moltbot.json`：
```json
{
  "gateway": {
    "port": 18791,
    "host": "0.0.0.0"
  },
  "model": {
    "default": "zai/glm-4",
    "providers": {
      "zai": {
        "apiKey": "你的智谱API Key"
      }
    }
  }
}
```

### 3. 启动网关

```bash
npm start
```

---

## 第三步：创建第一个分身

### 配置分身角色

在 `moltbot.json` 中添加：

```json
{
  "agent": {
    "name": "坤",
    "role": "产品开发",
    "description": "负责产品方案、功能设计、交付物定义",
    "systemPrompt": "你是坤，负责产品开发。全力做产品方案、功能设计、交付物定义。产品要清晰、可执行，为团队服务——让宣发能写、开发能做。"
  }
}
```

### 启动分身

```bash
npm start
```

---

## 第四步：测试分身

### 与分身对话

```bash
# 使用curl
curl -X POST http://localhost:18791/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "zai/glm-4",
    "messages": [
      {"role": "user", "content": "帮我设计一个小程序产品方案"}
    ]
  }'
```

### 使用TUI（推荐）

```bash
# 如果安装了TUI
moltbot tui --port 18791
```

---

## 第五步：创建更多分身

### 批量创建脚本

```bash
#!/bin/bash

# 分身列表
declare -A workers=(
    ["乾"]="总控"
    ["坤"]="产品"
    ["临"]="技术"
    ["泰"]="验收"
    ["否"]="宣发"
)

# 创建分身
for name in "${!workers[@]}"; do
    port=18791  # 修改端口号
    role="${workers[$name]}"

    echo "创建分身: $name ($role)"

    mkdir -p ~/clawdbot分身/$name
    cp ~/moltbot/moltbot.json ~/clawdbot分身/$name/

    # 修改配置
    sed -i '' "s/18789/$port/g" ~/clawdbot分身/$name/moltbot.json

    # 添加角色信息
    sed -i '' "s/agent\": {/agent\": {\n    \"name\": \"$name\",\n    \"role\": \"$role\",\n    \"description\": \"负责$role\",\n    \"systemPrompt\": \"你是$name，负责$role。\",/g" ~/clawdbot分身/$name/moltbot.json

    echo "✓ 完成"
done
```

---

## 第六步：使用Web控制面板

### 安装面板

```bash
cd ~/clawdbot分身/panel-web
npm install
npm start
```

### 访问面板

浏览器打开：http://localhost:3999

### 使用面板

1. **查看状态** - 实时查看所有分身状态
2. **启动/停止** - 一键启动或停止分身
3. **开启TUI** - 点击"TUI"按钮开启终端对话

---

## 第七步：第一次协作

### 项目：开发一个小功能

#### 1. 乾（总控）- 任务分发

```
乾，请帮我协调一个任务：
- 需求：开发一个"每日一句话推荐"功能
- 时间：1天
- 分工：
  - 坤：产品方案
  - 临：技术实现
  - 泰：质量验收
```

#### 2. 坤（产品）- 产品方案

```
坤，请设计"每日一句话推荐"功能的产品方案：
- 核心功能
- 用户体验
- 技术要点
```

#### 3. 临（技术）- 技术实现

```
临，请根据坤的产品方案，实现技术部分：
- 后端开发
- 前端开发
- 部署
```

#### 4. 泰（验收）- 质量验收

```
泰，请验收临的实现：
- 功能测试
- 性能测试
- 安全测试
```

---

## 常见问题

### Q: 需要买多个API Key吗？
A: 不需要。所有分身可以共用一个API Key，根据使用量付费。

### Q: 需要安装多个Moltbot吗？
A: 不需要。只需要安装一次Moltbot Gateway，然后创建多个配置文件即可。

### Q: 分身之间能通信吗？
A: 可以。通过乾（总控）协调，或者使用外部消息队列。

### Q: 能用其他AI模型吗？
A: 可以。在配置文件中绑定不同的AI模型（ChatGPT、Claude、DeepSeek等）。

### Q: 需要多少成本？
A:
- Moltbot Gateway：免费
- AI API：根据使用量，一个月几十到几百块
- 10个分身共用一个Key，成本可控

---

## 进阶技巧

### 1. 使用自动化脚本

创建 `start-all.sh`：
```bash
#!/bin/bash

for i in {1..10}; do
    port=$((18790 + i))
    cd ~/clawdbot分身/分身$i
    npm start &
    echo "启动分身$i，端口：$port"
done
```

### 2. 监控分身状态

创建 `monitor.sh`：
```bash
#!/bin/bash

while true; do
    echo "===== 网关状态 $(date) ====="
    for i in {1..10}; do
        port=$((18790 + i))
        if lsof -Pi :$port -sTCP:LISTEN -t >/dev/null; then
            echo "分身$i ($port): ✓ 运行中"
        else
            echo "分身$i ($port): ✗ 未运行"
        fi
    done
    sleep 300
done
```

### 3. 使用API调用

```bash
# 调用乾（总控）
curl -X POST http://localhost:18791/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "zai/glm-4",
    "messages": [
      {"role": "user", "content": "协调任务：开发新功能"}
    ]
  }'

# 调用坤（产品）
curl -X POST http://localhost:18792/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "zai/glm-4",
    "messages": [
      {"role": "user", "content": "设计产品方案"}
    ]
  }'
```

---

## 总结

### 30分钟完成：
1. ✅ 安装Moltbot Gateway
2. ✅ 配置第一个网关
3. ✅ 创建第一个分身
4. ✅ 测试分身
5. ✅ 创建更多分身
6. ✅ 使用Web控制面板
7. ✅ 第一次协作

### 下一步：
- 学习更多角色定义
- 掌握高级技巧
- 实战项目练习

---

**想要深入学习？完整指南：¥199（早鸟价）**

包含：
- 12,000+字完整指南
- 10个分身角色详解
- 完整协作流程
- 更多实战案例
- 常见问题深度解答

联系：[微信]
